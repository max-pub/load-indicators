<script src='xhr-events.js'></script>

<dom-module id="load-indicator-stripe">
    <style>
        :host{
            /*width: 100%;*/
            display: block;
        }
        :host[hidden]{
            display: none;
        }
        #load-indicator-stripe{
            border-radius: 100px;
            left:0%;
            right:100%;
            background: white;
            height: 10px;
            margin: 5px;
            position: absolute;
            animation: move 2s infinite;
        }

        @keyframes move {
            0% {left: 0%; right:100%;}
            50% {left: 0%; right:0%;}
            100% {left: 100%; right:0%;}
        }

    </style>
    <template>
        <div id='load-indicator-stripe'></div>
    </template>
</dom-module>

<script>
    Polymer({
        is: "load-indicator-stripe",
        ready: function(){
            this.hidden = true;
            XHRevents.onStart.push(function(){
                this.hidden = false;
            }.bind(this))
            XHRevents.onFinish.push(function(){
                this.hidden = true;
            }.bind(this))
        }
    });


</script>